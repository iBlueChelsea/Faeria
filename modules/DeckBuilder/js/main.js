(this["webpackJsonpdeckbuilder-react"]=this["webpackJsonpdeckbuilder-react"]||[]).push([[0],{54:function(e,a,s){},74:function(e,a,s){},75:function(e,a,s){},82:function(e,a,s){"use strict";s.r(a);var t=s(0),c=s.n(t),i=s(24),r=s.n(i),n=(s(54),s(10)),d=s(17),l=s(48),o=s(20),j=s.n(o),g=s(49),h=s(86),p=s(2),u=function(e){return e.data?Object(p.jsxs)(g.a,{action:!0,variant:"primary",id:e.id,onClick:e.click,children:[Object(p.jsx)(h.a,{pill:!0,variant:"primary",children:e.data.faeria})," ",e.data.name," ",Object(p.jsxs)(h.a,{variant:"secondary",children:["x",e.count]})]}):Object(p.jsx)(g.a,{})},b=s(89),m=function(e){var a=e.cardlist.map((function(a){return Object(p.jsx)(u,{id:a[0],count:a.length,data:e.data.filter((function(e){return e.id==a[0]}))[0],click:e.click},a[0])}));return Object(p.jsx)(b.a,{children:a})},f={0:"assets/images/cards/cheeksplore.jpg",1:"assets/images/cards/mercheek.jpg",2:"assets/images/cards/dolphin_cheekrider.jpg",3:"assets/images/cards/clamcheek.jpg",4:"assets/images/cards/ninjacheek.jpg",5:"assets/images/cards/song_of_the_mercheek.jpg",6:"assets/images/cards/cheek_in_a_bottle.jpg",7:"assets/images/cards/cheekie_in_a_lamp.jpg",8:"assets/images/cards/cheeklord.jpg",9:"assets/images/cards/rain_of_cheek.jpg",10:"assets/images/cards/cheekdrop.jpg",11:"assets/images/cards/cheekmoon.jpg",12:"assets/images/cards/cheekpearl.jpg",13:"assets/images/cards/crabcheek.jpg",14:"assets/images/cards/cheekcano.jpg",15:"assets/images/cards/cheekdevil.jpg",16:"assets/images/cards/cheekflame.jpg",17:"assets/images/cards/cheekblast.jpg",18:"assets/images/cards/cheekflame_faerie.jpg",19:"assets/images/cards/baby_cheekdevil.jpg",20:"assets/images/cards/ghostcheek_tower.jpg",21:"assets/images/cards/ghostcheek.jpg",22:"assets/images/cards/ghostcheek_alchemist.jpg",23:"assets/images/cards/cheekruption.jpg",24:"assets/images/cards/suncheek.jpg",25:"assets/images/cards/cheekflower.jpg",26:"assets/images/cards/cavecheek_dweller.jpg",27:"assets/images/cards/mushroom_cheek.jpg",28:"assets/images/cards/cheekshrooms.jpg",29:"assets/images/cards/cheektree_giant.jpg",30:"assets/images/cards/cheekworld_tree.jpg",31:"assets/images/cards/cheek_shaman.jpg",32:"assets/images/cards/cheekfox.jpg",33:"assets/images/cards/cheekbloom_spirit.jpg",34:"assets/images/cards/cheekshield_spirit.jpg",35:"assets/images/cards/cheek_dancers.jpg",36:"assets/images/cards/cheeksphynx.jpg",37:"assets/images/cards/cheeksphynx_a.jpg",38:"assets/images/cards/cheeksphynx_b.jpg",39:"assets/images/cards/cheeksphynx_c.jpg",40:"assets/images/cards/mummy_cheek.jpg",41:"assets/images/cards/cheeksquito.jpg",42:"assets/images/cards/cheek_air_balloon.jpg",43:"assets/images/cards/balloon_cheek.jpg",44:"assets/images/cards/dragon_cheekrider.jpg",45:"assets/images/cards/baby_dragoncheek.jpg",46:"assets/images/cards/cheek_glider.jpg",47:"assets/images/cards/cheek_pyramid.jpg",48:"assets/images/cards/cheek_wind.jpg",49:"assets/images/cards/canopic_cheekjar.jpg",50:"assets/images/cards/cavecheek.jpg",51:"assets/images/cards/book_of_cheek.jpg",52:"assets/images/cards/milk_of_the_cheek.jpg",53:"assets/images/cards/cheek_cannon.jpg",54:"assets/images/cards/cheekcrobats.jpg",55:"assets/images/cards/cheekcrobat.jpg"},k=(s(74),function(e){var a=e.data.playable?"selectable":"not-selectable",s=e.data.playable?e.click:null;return Object(p.jsx)("div",{style:{width:"15vw",margin:"10px"},id:e.data.id,onClick:s,className:a,children:Object(p.jsx)("img",{style:{width:"15vw"},id:e.data.id,alt:e.data.id,src:f[e.data.id]})})}),O=function(e){var a=e.hexSize,s=e.startPosX,t=e.startPosY,c=[[s+.5*a,t].join(),[s+1.5*a,t].join(),[s+2*a,t+Math.sqrt(3)*a*.5].join(),[s+1.5*a,t+Math.sqrt(3)*a].join(),[s+.5*a,t+Math.sqrt(3)*a].join(),[s,t+Math.sqrt(3)*a*.5].join()].join(" ");return Object(p.jsx)("polygon",{id:e.id,onClick:e.click,className:e.className,points:c})},x=s(87),v=s(90),y=(s(75),function(e){var a=Object.keys(e.landFilter).map((function(a,s){return Object(p.jsx)("g",{children:Object(p.jsx)(O,{id:a,className:a+(e.landFilter[a]?"-active":""),hexSize:40,startPosX:40*s*2.5+8,startPosY:40-40*Math.sqrt(3)*.5,click:e.changeLandFilter})},a)}));return Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)(x.a,{style:{width:"50%",alignItems:"center"},children:Object(p.jsx)(v.a,{onChange:e.changeNameFilter,placeholder:"Search by name","aria-label":"name","aria-describedby":"basic-addon1"})}),Object(p.jsx)("svg",{width:"100%",height:"80px",children:a})]})}),_=s(43),w=s(47),S=s(88),C=function(e){var a=Object(t.useState)([]),s=Object(n.a)(a,2),c=s[0],i=s[1],r=Object(t.useState)(e.data),o=Object(n.a)(r,2),g=o[0],u=o[1],b=Object(t.useState)({neutral:!1,forest:!1,desert:!1,mountain:!1,lake:!1}),f=Object(n.a)(b,2),O=f[0],C=f[1],F=Object(t.useState)(""),N=Object(n.a)(F,2),E=N[0],I=N[1];Object(t.useEffect)((function(){j.a.get("/faeria/Faeria/utils/getCards.php",{params:{name:E,land:Object.keys(O).find((function(e){return O[e]}))}}).then((function(e){e.data.forEach((function(e){var a=q.find((function(a){return a.includes(parseInt(e.id))}));"1"===e.legendary?!a||a.length<1?e.playable=!0:e.playable=!1:!a||a.length<3?e.playable=!0:e.playable=!1})),i(e.data)})).catch((function(e){console.log("Network Error",e.message)}))}),[O,E]),Object(t.useEffect)((function(){var e=Object(l.a)(c);e.forEach((function(e){var a=q.find((function(a){return a.includes(parseInt(e.id))}));"1"===e.legendary?!a||a.length<1?e.playable=!0:e.playable=!1:!a||a.length<3?e.playable=!0:e.playable=!1})),i(e)}),[g]);var q=g.cards.reduce((function(e,a,s,t){return a===t[s-1]?e[e.length-1].push(a):e.push([a]),e}),[]),J=function(e){var a=0,s=0;return e.forEach((function(e){s++,a+=parseInt(c.filter((function(a){return a.id==e}))[0].faeria)})),s?a/s:0},M=function(e){var a=Object(d.a)({},g);a.cards.push(parseInt(e.target.id)),a.cards.sort((function(e,a){return e-a})),a.cost=J(a.cards),u(a)},P=c.map((function(e,a){return Object(p.jsx)(k,{click:M,data:e},e.id)})),z=30===g.cards.length?Object(p.jsx)(_.a,{onClick:function(){var a=new FormData;a.append("user",document.getElementById("user").value),a.append("deck",JSON.stringify(g)),j.a.post("/faeria/Faeria/utils/saveDeck.php",a).then((function(){e.click()})).catch((function(e){console.log("Network Error",e.message)}))},variant:"primary",size:"lg",children:"Save"}):Object(p.jsx)(_.a,{disabled:!0,variant:"secondary",size:"lg",children:"Save"}),D=function(e){var a=Object(d.a)({},g);a.deck_name=e.target.value,u(a)},T=function(e){var a=Object(d.a)({},g);a.cover=e.target.id,u(a)},A=c.length>0?c.find((function(e){return e.id==g.cover}))?c.find((function(e){return e.id==g.cover})).name:"No cover":null,B=A?q.map((function(e){return Object(p.jsx)(w.a.Item,{id:e[0],onClick:T,children:c.find((function(a){return a.id==e[0]})).name},e[0])})):null;return Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",height:"80vh",width:"70vw",justifyContent:"space-evenly",overflow:"scroll"},children:P}),Object(p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",height:"20vh",width:"70vw",justifyContent:"space-evenly"},children:Object(p.jsx)(y,{landFilter:O,nameFilter:E,changeLandFilter:function(e){var a=Object(d.a)({},O);a[e.target.id]=!a[e.target.id],Object.keys(a).filter((function(a){return a!==e.target.id})).forEach((function(e){return a[e]=!1})),C(a)},changeNameFilter:function(e){I(e.target.value)}})})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30vw",height:"100vh",justifyContent:"flex-start",overflow:"scroll"},children:[Object(p.jsxs)(x.a,{children:[Object(p.jsxs)(x.a.Prepend,{children:[Object(p.jsx)(x.a.Text,{children:Object(p.jsx)(h.a,{pill:!0,variant:"primary",children:parseFloat(g.cost).toFixed(1)})}),Object(p.jsxs)(x.a.Text,{children:[g.cards.length,"/30"]}),Object(p.jsx)(x.a.Text,{id:"basic-addon1",children:"Name:"})]}),Object(p.jsx)(v.a,{onChange:D,placeholder:g.deck_name,"aria-label":g.deck_name,"aria-describedby":"basic-addon1"})]}),Object(p.jsxs)(x.a,{children:[Object(p.jsx)(x.a.Prepend,{children:Object(p.jsx)(x.a.Text,{id:"basic-addon2",children:"Cover:"})}),Object(p.jsx)(v.a,{onChange:D,readOnly:!0,defaultValue:A,"aria-label":A,"aria-describedby":"basic-addon2"}),Object(p.jsx)(S.a,{as:x.a.Append,variant:"secondary",title:"Select",id:"input-group-dropdown-2",children:B})]}),Object(p.jsx)(m,{cardlist:q,data:c,click:function(e){var a=Object(d.a)({},g);a.cards.splice(a.cards.findIndex((function(a){return a==e.target.id})),1),a.cost=J(a.cards),u(a)}}),z,Object(p.jsx)(_.a,{onClick:function(){e.click()},variant:"dark",size:"lg",children:"Cancel"})]})]})},F=function(e){return Object(p.jsxs)("div",{data:JSON.stringify(e.data),style:{width:"17vw",cursor:"pointer"},id:e.data.id,onClick:e.click,children:[Object(p.jsx)("h1",{style:{textAlign:"center"},children:e.data.deck_name}),Object(p.jsx)("img",{style:{width:"17vw"},id:e.data.id,alt:e.data.id,data:JSON.stringify(e.data),src:f[e.data.cover]})]})},N=function(e){var a=Object(t.useState)([]),s=Object(n.a)(a,2),c=s[0],i=s[1];Object(t.useEffect)((function(){var e=new FormData;e.append("user",document.getElementById("user").value),j.a.post("/faeria/Faeria/utils/getDecks.php",e).then((function(e){i(e.data)})).catch((function(e){console.log("Network Error",e.message)}))}),[]);var r=c.map((function(a){return Object(p.jsx)(F,{data:a,click:e.click},a.id)}));return r.push(Object(p.jsx)(F,{data:{id:0,deck_name:"Add new",cover:0,cards:[],cost:0},click:e.click},"0")),r},E=function(){var e=Object(t.useState)(!0),a=Object(n.a)(e,2),s=a[0],c=a[1],i=Object(t.useState)({}),r=Object(n.a)(i,2),d=r[0],l=r[1];return s?Object(p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",height:"100vh",width:"100vw",justifyContent:"space-evenly",overflow:"scroll"},children:Object(p.jsx)(N,{click:function(e){l(JSON.parse(e.target.attributes.data.value)),c(!1)}})}):Object(p.jsx)(C,{data:d,click:function(){l({}),c(!0)}})},I=function(){return Object(p.jsx)(E,{})};s(81);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("deck-builder"))}},[[82,1,2]]]);
//# sourceMappingURL=main.d04cc12d.chunk.js.map